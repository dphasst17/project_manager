(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1162:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(5155),n=a(7017),r=a(6715),i=a(2115);function o(e){let{children:t}=e,[a]=(0,i.useState)(()=>new n.E);return(0,s.jsx)(r.Ht,{client:a,children:t})}},1172:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(2115),n=a(5695),r=a(2923);function i(e){let{children:t}=e,a=(0,n.useRouter)();return(0,s.useEffect)(()=>{(async()=>{await (0,r.gf)()||a.push("/auth")})()},[]),t}},2144:(e,t,a)=>{"use strict";a.d(t,{n:()=>s});let s=(0,a(5453).v)(e=>({employee:null,setEmployee:t=>e({employee:t}),role:null,setRole:t=>e({role:t}),adminEmployee:null,setAdminEmployee:t=>e({adminEmployee:t}),team:null,setTeam:t=>e({team:t})}))},2173:(e,t,a)=>{"use strict";a.d(t,{Pz:()=>c,QA:()=>s,V_:()=>i,jv:()=>l,m$:()=>n,vF:()=>o,vr:()=>p,xQ:()=>r});let s=async(e,t,a)=>(await fetch("".concat("https://api.fas1server.site/api","/project?page=").concat(t||1,"&limit=").concat(a||10),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json(),n=async(e,t,a)=>(await fetch("".concat("https://api.fas1server.site/api","/project/task?page=").concat(t||1,"&limit=").concat(a||10),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json(),r=async(e,t)=>(await fetch("".concat("https://api.fas1server.site/api","/project/append"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})).json(),i=async(e,t,a,s,n)=>(await fetch("".concat("https://api.fas1server.site/api","/project/task").concat("admin"===e?"/status":"/employee/status","?status=").concat(a,"&page=").concat(s||1,"&limit=").concat(n||10),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),o=async e=>{let t=await fetch("".concat("https://api.fas1server.site/api","/project/detail/").concat(e));if(!t.ok)throw Error("Failed to fetch data");return t.json()},l=async(e,t,a)=>(await fetch("".concat("https://api.fas1server.site/api","/project/employee?page=").concat(t||1,"&limit=").concat(a||10),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json(),c=async(e,t)=>(await fetch("".concat("https://api.fas1server.site/api","/project"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})).json(),p=async(e,t,a)=>(await fetch("".concat("https://api.fas1server.site/api","/project"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,data:t,condition:a})})).json()},2923:(e,t,a)=>{"use strict";a.d(t,{TF:()=>i,UN:()=>n,gf:()=>o});var s=a(7383);let n=(e,t,a)=>s.A.set(e,t,{expires:new Date(1e3*a),path:"/"}),r=e=>s.A.get(e),i=e=>s.A.remove(e,{path:"/"}),o=async()=>{let e=r("pm-t");return e||null}},4400:(e,t,a)=>{"use strict";a.d(t,{JP:()=>s,Vp:()=>n,de:()=>i,jZ:()=>r,xn:()=>o});let s=async(e,t,a)=>(await fetch("".concat("https://api.fas1server.site/api","/employees?page=").concat(t||1,"&limit=").concat(a||10),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json(),n=async e=>(await fetch("".concat("https://api.fas1server.site/api","/employees/info"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json(),r=async(e,t)=>(await fetch("".concat("https://api.fas1server.site/api","/employees/team"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})).json(),i=async e=>(await fetch("".concat("https://api.fas1server.site/api","/employees/team"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json(),o=async(e,t)=>(await fetch("".concat("https://api.fas1server.site/api","/employees/team/member/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json()},5261:(e,t,a)=>{"use strict";a.d(t,{I:()=>s});let s=(0,a(5453).v)(e=>({project:null,setProject:t=>e({project:t}),employeeProject:null,setEmployeeProject:t=>e({employeeProject:t})}))},6272:(e,t,a)=>{"use strict";a.d(t,{ApiProvider:()=>m,_:()=>h});var s=a(5155),n=a(2115),r=a(2923),i=a(5041),o=a(7005),l=a(4400),c=a(2173),p=a(2144),d=a(6821),u=a(5261);let h=(0,n.createContext)({}),m=e=>{let{children:t}=e,[a,m]=(0,n.useState)(!0),{isLog:_}=(0,n.use)(o.B),{employee:x,setEmployee:f,setAdminEmployee:v,setTeam:y}=(0,p.n)(),{setTask:j,setStatusTask:g}=(0,d.O)(),{setProject:b,setEmployeeProject:w}=(0,u.I)(),k=(0,i.n)({mutationFn:async e=>await (0,l.Vp)(e),onSuccess:e=>{200===e.status&&f(e.data[0])},onError:e=>{console.log(e)}}),P=(0,i.n)({mutationFn:async e=>{let t=await (0,c.jv)(e,1,10),a=await (0,c.V_)("employee",e,"completed",1,12);return{project:t,completed_task:a,in_progress_task:await (0,c.V_)("employee",e,"in_progress",1,12),not_started_task:await (0,c.V_)("employee",e,"not_started",1,12)}},onSuccess:e=>{let{project:t,completed_task:a,in_progress_task:s,not_started_task:n}=e;200===t.status&&w(t.data),200===a.status&&200===s.status&&200===n.status&&g({completed:a.data,in_progress:s.data,not_started:n.data})},onError:e=>{console.log(e)}}),T=(0,i.n)({mutationFn:async e=>{let t=await (0,c.QA)(e,1,10),a=await (0,l.de)(e);return{project:t,team:a,task:await (0,c.m$)(e,1,12),employee:await (0,l.JP)(e,1,15)}},onSuccess:e=>{200===e.project.status&&b(e.project.data),200===e.team.status&&y(e.team.data),200===e.task.status&&j(e.task.data),200===e.employee.status&&v(e.employee.data)},onError:e=>{console.log(e)}});return(0,n.useEffect)(()=>{_?(m(!0),(async()=>{let e=await (0,r.gf)();e&&(k.mutate(e),P.mutate(e))})()):m(!1)},[_]),(0,n.useEffect)(()=>{_&&x&&(async()=>{let e=await (0,r.gf)();e&&1==x.author&&T.mutate(e),m(!1)})()},[_,x]),(0,s.jsx)(h.Provider,{value:{isPending:a},children:t})}},6570:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,4147,23)),Promise.resolve().then(a.t.bind(a,8489,23)),Promise.resolve().then(a.bind(a,8543)),Promise.resolve().then(a.bind(a,1172)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.t.bind(a,5716,23)),Promise.resolve().then(a.bind(a,1162)),Promise.resolve().then(a.bind(a,8094)),Promise.resolve().then(a.bind(a,6272)),Promise.resolve().then(a.bind(a,7005))},6821:(e,t,a)=>{"use strict";a.d(t,{O:()=>s});let s=(0,a(5453).v)(e=>({task:null,setTask:t=>e({task:t}),statusTask:null,setStatusTask:t=>e({statusTask:t})}))},7005:(e,t,a)=>{"use strict";a.d(t,{AppProvider:()=>l,B:()=>o});var s=a(5155),n=a(2115),r=a(2923),i=a(2144);let o=(0,n.createContext)({}),l=e=>{let{children:t}=e,{employee:a}=(0,i.n)(),[l,c]=(0,n.useState)(!1),[p,d]=(0,n.useState)(0),u=(null==a?void 0:a.author)=="1",h=(null==a?void 0:a.author)=="2";return(0,n.useEffect)(()=>{(async()=>{await (0,r.gf)()&&c(!0)})()},[]),(0,s.jsx)(o.Provider,{value:{isLog:l,setIsLog:c,isAdmin:u,isManager:h,projectId:p,setProjectId:d},children:t})}},8094:(e,t,a)=>{"use strict";a.d(t,{default:()=>w});var s=a(5155),n=a(9434),r=a(8305),i=a(9105),o=a(7184),l=a(2115),c=a(6766),p=a(5695);let d=e=>{let{children:t,className:a}=e,c=(0,l.useRef)(null),{scrollY:p}=(0,r.L)({target:c,offset:["start start","end start"]}),[d,u]=(0,l.useState)(!1);return(0,i.L)(p,"change",e=>{e>100?u(!0):u(!1)}),(0,s.jsx)(o.P.div,{ref:c,className:(0,n.cn)("sticky inset-x-0 top-2 z-40 w-full",a),children:l.Children.map(t,e=>l.isValidElement(e)?l.cloneElement(e,{visible:d}):e)})},u=e=>{let{children:t,className:a,visible:r}=e;return(0,s.jsx)(o.P.div,{animate:{backdropFilter:r?"blur(10px)":"none",boxShadow:r?"0 0 24px rgba(34, 42, 53, 0.06), 0 1px 1px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(34, 42, 53, 0.04), 0 0 4px rgba(34, 42, 53, 0.08), 0 16px 68px rgba(47, 48, 55, 0.05), 0 1px 0 rgba(255, 255, 255, 0.1) inset":"none",width:r?"40%":"100%",y:20*!!r},transition:{type:"spring",stiffness:200,damping:50},style:{minWidth:"800px"},className:(0,n.cn)("relative z-[60] mx-auto hidden w-full max-w-7xl flex-row items-center justify-between self-start rounded-full bg-transparent px-4 py-2 lg:flex dark:bg-transparent",r&&"bg-white/80 dark:bg-neutral-950/80",a),children:t})},h=e=>{let{items:t,className:a}=e,[r,i]=(0,l.useState)(null),c=(0,p.useRouter)();return(0,s.jsx)(o.P.div,{onMouseLeave:()=>i(null),className:(0,n.cn)("absolute inset-0 hidden flex-1 flex-row items-center justify-center space-x-2 text-sm font-medium text-zinc-600 transition duration-200 hover:text-zinc-800 lg:flex lg:space-x-2",a),children:t.map((e,t)=>(0,s.jsxs)("div",{onMouseEnter:()=>i(t),onClick:()=>c.push(e.link),className:"relative px-4 py-2 text-neutral-600 dark:text-neutral-300 cursor-pointer",children:[r===t&&(0,s.jsx)(o.P.div,{layoutId:"hovered",className:"absolute inset-0 h-full w-full rounded-full bg-gray-100 dark:bg-neutral-800"}),(0,s.jsx)("span",{className:"relative z-20 font-bold text-md dark:text-white",children:e.name})]},"link-".concat(t)))})},m=()=>(0,s.jsxs)("a",{href:"#",className:"relative z-20 mr-4 flex items-center space-x-2 px-2 py-1 text-sm font-normal text-black",children:[(0,s.jsx)(c.default,{src:"https://assets.aceternity.com/logo-dark.png",alt:"logo",width:30,height:30}),(0,s.jsx)("span",{className:"font-medium text-black dark:text-white",children:"Project Manager"})]}),_=e=>{let{href:t,as:a="a",children:r,className:i,variant:o="primary",...l}=e;return(0,s.jsx)(a,{href:t||void 0,className:(0,n.cn)("px-4 py-2 rounded-md bg-white button bg-white text-black text-sm font-bold relative cursor-pointer hover:-translate-y-0.5 transition duration-200 inline-block text-center",{primary:"shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset]",secondary:"bg-transparent shadow-none dark:text-white",dark:"bg-black text-white shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset]",gradient:"bg-gradient-to-b from-blue-500 to-blue-700 text-white shadow-[0px_2px_0px_0px_rgba(255,255,255,0.3)_inset]"}[o],i),...l,children:r})};var x=a(2923),f=a(2144),v=a(6272),y=a(7005);let j=()=>(0,s.jsx)("div",{className:"w-[98vw] h-[94dvh] absolute bg-dark/60 insert flex items-center justify-center",children:(0,s.jsxs)("div",{className:"terminal-loader",children:[(0,s.jsxs)("div",{className:"terminal-header",children:[(0,s.jsx)("div",{className:"terminal-title",children:"Status"}),(0,s.jsxs)("div",{className:"terminal-controls",children:[(0,s.jsx)("div",{className:"control close"}),(0,s.jsx)("div",{className:"control minimize"}),(0,s.jsx)("div",{className:"control maximize"})]})]}),(0,s.jsx)("div",{className:"text",children:"Loading..."})]})});var g=a(6821),b=a(5261);let w=e=>{let{children:t}=e,{isAdmin:a,isManager:n}=(0,l.use)(y.B),r=[{name:"Dashboard",link:"/"},{name:"Contact",link:"/"}];a||n||r.splice(1,0,{name:"Task",link:"/task"});let i=(0,p.useRouter)(),[o,c]=(0,l.useState)(!1),{isPending:w}=(0,l.use)(v._),{employee:k,setEmployee:P,setAdminEmployee:T}=(0,f.n)(),{setTask:N,setStatusTask:E}=(0,g.O)(),{setProject:S,setEmployeeProject:z}=(0,b.I)(),{setIsLog:A}=(0,l.use)(y.B),C=(0,p.usePathname)(),O=window.innerWidth;return(0,l.useEffect)(()=>{O>=1424?(console.log("t"),c(!1)):(console.log("f"),c(!0))},[]),w?(0,s.jsx)(j,{}):(0,s.jsxs)("div",{className:"relative w-full",children:["/auth"!==C&&(0,s.jsxs)(d,{children:[O>=1424&&(0,s.jsxs)(u,{children:[(0,s.jsx)(m,{}),(0,s.jsx)(h,{items:r}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(_,{variant:"secondary",children:["Hello ",null==k?void 0:k.first_name," ",null==k?void 0:k.last_name]}),(0,s.jsx)(_,{onClick:()=>{P(null),T(null),N(null),E(null),S(null),z(null),A(!1),(0,x.TF)("pm-t"),i.push("/auth")},variant:"primary",children:"Sign Out"})]})]}),o&&(0,s.jsx)("div",{className:"mobile fixed inset-0 w-full h-screen z-50 bg-black flex items-center justify-center",children:"Please open the app in a bigger screen"})]}),(0,s.jsx)("div",{children:t})]})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var s=a(2596),n=a(9688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[189,690,135,30,967,592,441,684,358],()=>t(6570)),_N_E=e.O()}]);