(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{2144:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});let a=(0,r(5453).v)(e=>({employee:null,setEmployee:t=>e({employee:t}),role:null,setRole:t=>e({role:t}),adminEmployee:null,setAdminEmployee:t=>e({adminEmployee:t}),team:null,setTeam:t=>e({team:t})}))},2151:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(5155),s=r(2115),o=r(2177),n=r(2523),i=r(9946);let l=(0,i.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),d=(0,i.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var c=r(5041),u=r(5695),p=r(9958),h=r(2923),m=r(8543),f=r(7005);let x=()=>{var e,t;let{register:r,handleSubmit:i,formState:x}=(0,o.mN)(),[v,g]=(0,s.useState)(!1),{setIsLog:w}=(0,s.use)(f.B),y=(0,u.useRouter)(),b=(0,c.n)({mutationFn:async e=>await (0,p.Jv)(e.email,e.password),onSuccess:e=>{200===e.status&&(w(!0),(0,h.UN)("pm-t",e.data.t,e.data.e),y.push("/")),(401===e.status||400===e.status)&&m.oR.error(e.message)},onError:e=>{console.log(e)},onSettled:()=>{g(!1)}});return(0,a.jsxs)("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-[#1E1E1E]",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Sign In to Your Account"}),(0,a.jsxs)("div",{className:"form w-1/4 mt-10 p-5 grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.p,{...r("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}),className:"mb-1 border border-input ".concat(x.errors.email&&"border-red-500"),placeholder:"Email"}),(null==(e=x.errors.email)?void 0:e.type)==="pattern"&&(0,a.jsx)("span",{className:"rounded-md bg-red-500 text-[13px] text-white p-1",children:"Email is invalid"}),(null==(t=x.errors.email)?void 0:t.type)==="required"&&(0,a.jsx)("span",{className:"rounded-md bg-red-500 text-[13px] text-white p-1",children:"Email is required"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.p,{...r("password",{required:!0}),className:"border border-input mb-1 ".concat(x.errors.password&&"border-red-500"),type:"password",placeholder:"Password"}),x.errors.password&&(0,a.jsx)("span",{className:"rounded-md bg-red-500 text-[13px] text-white p-1",children:"Password is required"})]}),(0,a.jsxs)("button",{onClick:i(e=>{g(!v),b.mutate(e)}),className:"w-2/4 h-[30px] rounded-md flex items-center justify-center cursor-pointer mx-auto bg-gradient-to-r from-violet-800 to-yellow-200 text-md text-zinc-950 font-bold",children:[!v&&(0,a.jsx)("span",{className:"mr-2 transition-all",children:"Sign In"}),!v&&(0,a.jsx)(l,{className:"w-4 h-4 transition-all"}),v&&(0,a.jsx)(d,{className:"w-4 h-4 animate-spin"})]})]})]})}},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(5155),s=r(2115),o=r(9434);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,o.cn)("flex h-10 w-full rounded-md bg-[#222122] px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},2923:(e,t,r)=>{"use strict";r.d(t,{TF:()=>n,UN:()=>s,gf:()=>i});var a=r(7383);let s=(e,t,r)=>a.A.set(e,t,{expires:new Date(1e3*r),path:"/"}),o=e=>a.A.get(e),n=e=>a.A.remove(e,{path:"/"}),i=async()=>{let e=o("pm-t");return e||null}},7005:(e,t,r)=>{"use strict";r.d(t,{AppProvider:()=>l,B:()=>i});var a=r(5155),s=r(2115),o=r(2923),n=r(2144);let i=(0,s.createContext)({}),l=e=>{let{children:t}=e,{employee:r}=(0,n.n)(),[l,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)([]),p=(null==r?void 0:r.author)=="1",h=(null==r?void 0:r.author)=="2";return(0,s.useEffect)(()=>{(async()=>{await (0,o.gf)()&&d(!0)})()},[]),(0,a.jsx)(i.Provider,{value:{isLog:l,setIsLog:d,isAdmin:p,isManager:h,channel:c,setChannel:u},children:t})}},9372:(e,t,r)=>{Promise.resolve().then(r.bind(r,2151))},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(2596),s=r(9688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:c="",children:u,iconNode:p,...h}=e;return(0,a.createElement)("svg",{ref:t,...d,width:s,height:s,stroke:r,strokeWidth:n?24*Number(o)/Number(s):o,className:i("lucide",c),...!u&&!l(h)&&{"aria-hidden":"true"},...h},[...p.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{className:l,...d}=r;return(0,a.createElement)(c,{ref:o,iconNode:t,className:i("lucide-".concat(s(n(e))),"lucide-".concat(e),l),...d})});return r.displayName=n(e),r}},9958:(e,t,r)=>{"use strict";r.d(t,{Hh:()=>s,Jv:()=>a,KZ:()=>o});let a=async(e,t)=>(await fetch("".concat("http://localhost:3001/api","/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})).json(),s=async(e,t)=>(await fetch("".concat("http://localhost:3001/api","/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})).json(),o=async(e,t)=>(await fetch("".concat("http://localhost:3001/api","/auth/update"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})).json()}},e=>{var t=t=>e(e.s=t);e.O(0,[135,30,558,623,441,684,358],()=>t(9372)),_N_E=e.O()}]);