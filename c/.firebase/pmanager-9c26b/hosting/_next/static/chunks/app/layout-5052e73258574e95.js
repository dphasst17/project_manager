(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1162:(t,e,a)=>{"use strict";a.d(e,{default:()=>i});var n=a(5155),s=a(7017),o=a(6715),c=a(2115);function i(t){let{children:e}=t,[a]=(0,c.useState)(()=>new s.E);return(0,n.jsx)(o.Ht,{client:a,children:e})}},1172:(t,e,a)=>{"use strict";a.d(e,{default:()=>c});var n=a(2115),s=a(5695),o=a(2923);function c(t){let{children:e}=t,a=(0,s.useRouter)();return(0,n.useEffect)(()=>{(async()=>{await (0,o.gf)()||a.push("/auth")})()},[]),e}},2144:(t,e,a)=>{"use strict";a.d(e,{n:()=>n});let n=(0,a(5453).v)(t=>({employee:null,setEmployee:e=>t({employee:e}),role:null,setRole:e=>t({role:e}),adminEmployee:null,setAdminEmployee:e=>t({adminEmployee:e}),team:null,setTeam:e=>t({team:e})}))},2173:(t,e,a)=>{"use strict";a.d(e,{Pz:()=>l,QA:()=>n,V_:()=>c,jv:()=>r,m$:()=>s,vF:()=>i,vr:()=>p,xQ:()=>o});let n=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/project?page=").concat(e||1,"&limit=").concat(a||10),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),s=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/project/task?page=").concat(e||1,"&limit=").concat(a||10),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),o=async(t,e)=>(await fetch("".concat("http://localhost:3001/api","/project/append"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)})).json(),c=async(t,e,a,n,s)=>(await fetch("".concat("http://localhost:3001/api","/project/task").concat("admin"===t?"/status":"/employee/status","?status=").concat(a,"&page=").concat(n||1,"&limit=").concat(s||10),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json(),i=async t=>{let e=await fetch("".concat("http://localhost:3001/api","/project/detail/").concat(t));if(!e.ok)throw Error("Failed to fetch data");return e.json()},r=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/project/employee?page=").concat(e||1,"&limit=").concat(a||10),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),l=async(t,e)=>(await fetch("".concat("http://localhost:3001/api","/project"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)})).json(),p=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/project"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,data:e,condition:a})})).json()},2923:(t,e,a)=>{"use strict";a.d(e,{TF:()=>c,UN:()=>s,gf:()=>i});var n=a(7383);let s=(t,e,a)=>n.A.set(t,e,{expires:new Date(1e3*a),path:"/"}),o=t=>n.A.get(t),c=t=>n.A.remove(t,{path:"/"}),i=async()=>{let t=o("pm-t");return t||null}},4400:(t,e,a)=>{"use strict";a.d(e,{JP:()=>n,Vp:()=>s,de:()=>c,jZ:()=>o,xn:()=>i});let n=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/employees?page=").concat(e||1,"&limit=").concat(a||10),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),s=async t=>(await fetch("".concat("http://localhost:3001/api","/employees/info"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),o=async(t,e)=>(await fetch("".concat("http://localhost:3001/api","/employees/team"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)})).json(),c=async t=>(await fetch("".concat("http://localhost:3001/api","/employees/team"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),i=async(t,e)=>(await fetch("".concat("http://localhost:3001/api","/employees/team/member/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json()},4630:(t,e,a)=>{"use strict";a.d(e,{RL:()=>i,Yg:()=>c,gg:()=>s,it:()=>o,oP:()=>r,xl:()=>n});let n=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/chat/admin?skip=").concat(a,"&limit=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),s=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/chat/employee?skip=").concat(a,"&limit=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json(),o=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/chat/detail/").concat(t,"?skip=").concat(a,"&limit=").concat(e),{method:"GET"})).json(),c=async(t,e,a)=>(await fetch("".concat("http://localhost:3001/api","/chat/images/").concat(t,"?skip=").concat(a,"&limit=").concat(e),{method:"GET"})).json(),i=async(t,e)=>(await fetch("".concat("http://localhost:3001/api","/chat"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)})).json(),r=async(t,e)=>(await fetch("".concat("http://localhost:3001/api","/chat/channel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)})).json()},5261:(t,e,a)=>{"use strict";a.d(e,{I:()=>n});let n=(0,a(5453).v)(t=>({project:null,setProject:e=>t({project:e}),employeeProject:null,setEmployeeProject:e=>t({employeeProject:e})}))},6272:(t,e,a)=>{"use strict";a.d(e,{ApiProvider:()=>x,_:()=>m});var n=a(5155),s=a(2115),o=a(2923),c=a(5041),i=a(7005),r=a(4400),l=a(2173),p=a(2144),h=a(6821),d=a(5261),u=a(4630);let m=(0,s.createContext)({}),x=t=>{let{children:e}=t,[a,x]=(0,s.useState)(!0),{isLog:_,setChannel:y}=(0,s.use)(i.B),{employee:f,setEmployee:j,setAdminEmployee:g,setTeam:b}=(0,p.n)(),{setTask:v,setStatusTask:w}=(0,h.O)(),{setProject:k,setEmployeeProject:T}=(0,d.I)(),P=(0,c.n)({mutationFn:async t=>await (0,r.Vp)(t),onSuccess:t=>{200===t.status&&j(t.data[0])},onError:t=>{console.log(t)}}),N=(0,c.n)({mutationFn:async t=>{let[e,a,n,s,o]=await Promise.all([(0,l.jv)(t,1,10),(0,l.V_)("employee",t,"completed",1,12),(0,l.V_)("employee",t,"in_progress",1,12),(0,l.V_)("employee",t,"not_started",1,12),(0,u.gg)(t,20,0)]);return{project:e,completed_task:a,in_progress_task:n,not_started_task:s,chat:o}},onSuccess:t=>{let{project:e,completed_task:a,in_progress_task:n,not_started_task:s,chat:o}=t;200===o.status&&y(o.data),200===e.status&&T(e.data),200===a.status&&200===n.status&&200===s.status&&w({completed:a.data,in_progress:n.data,not_started:s.data})},onError:t=>{console.log(t)}}),E=(0,c.n)({mutationFn:async t=>{let[e,a,n,s,o]=await Promise.all([(0,l.QA)(t,1,10),(0,r.de)(t),(0,l.m$)(t,1,12),(0,r.JP)(t,1,15),(0,u.xl)(t,20,0)]);return{project:e,team:a,task:n,employee:s,chat:o}},onSuccess:t=>{200===t.chat.status&&y(t.chat.data),200===t.project.status&&k(t.project.data),200===t.team.status&&b(t.team.data),200===t.task.status&&v(t.task.data),200===t.employee.status&&g(t.employee.data)},onError:t=>{console.log(t)}});return(0,s.useEffect)(()=>{_?(x(!0),(async()=>{let t=await (0,o.gf)();t&&P.mutate(t)})()):x(!1)},[_]),(0,s.useEffect)(()=>{_&&f&&(async()=>{let t=await (0,o.gf)();t&&(f.author==Number("1")?E.mutate(t):N.mutate(t)),x(!1)})()},[_,f]),(0,n.jsx)(m.Provider,{value:{isPending:a},children:e})}},6570:(t,e,a)=>{Promise.resolve().then(a.t.bind(a,4147,23)),Promise.resolve().then(a.t.bind(a,8489,23)),Promise.resolve().then(a.bind(a,8543)),Promise.resolve().then(a.bind(a,1172)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.t.bind(a,5716,23)),Promise.resolve().then(a.bind(a,1162)),Promise.resolve().then(a.bind(a,8094)),Promise.resolve().then(a.bind(a,6272)),Promise.resolve().then(a.bind(a,7005))},6821:(t,e,a)=>{"use strict";a.d(e,{O:()=>n});let n=(0,a(5453).v)(t=>({task:null,setTask:e=>t({task:e}),statusTask:null,setStatusTask:e=>t({statusTask:e})}))},7005:(t,e,a)=>{"use strict";a.d(e,{AppProvider:()=>r,B:()=>i});var n=a(5155),s=a(2115),o=a(2923),c=a(2144);let i=(0,s.createContext)({}),r=t=>{let{children:e}=t,{employee:a}=(0,c.n)(),[r,l]=(0,s.useState)(!1),[p,h]=(0,s.useState)([]),d=(null==a?void 0:a.author)=="1",u=(null==a?void 0:a.author)=="2";return(0,s.useEffect)(()=>{(async()=>{await (0,o.gf)()&&l(!0)})()},[]),(0,n.jsx)(i.Provider,{value:{isLog:r,setIsLog:l,isAdmin:d,isManager:u,channel:p,setChannel:h},children:e})}},8094:(t,e,a)=>{"use strict";a.d(e,{default:()=>w});var n=a(5155),s=a(9434),o=a(8305),c=a(9105),i=a(7184),r=a(2115),l=a(6766),p=a(5695);let h=t=>{let{children:e,className:a}=t,l=(0,r.useRef)(null),{scrollY:p}=(0,o.L)({target:l,offset:["start start","end start"]}),[h,d]=(0,r.useState)(!1);return(0,c.L)(p,"change",t=>{t>100?d(!0):d(!1)}),(0,n.jsx)(i.P.div,{ref:l,className:(0,s.cn)("sticky inset-x-0 top-2 z-40 w-full",a),children:r.Children.map(e,t=>r.isValidElement(t)?r.cloneElement(t,{visible:h}):t)})},d=t=>{let{children:e,className:a,visible:o}=t;return(0,n.jsx)(i.P.div,{animate:{backdropFilter:o?"blur(10px)":"none",boxShadow:o?"0 0 24px rgba(34, 42, 53, 0.06), 0 1px 1px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(34, 42, 53, 0.04), 0 0 4px rgba(34, 42, 53, 0.08), 0 16px 68px rgba(47, 48, 55, 0.05), 0 1px 0 rgba(255, 255, 255, 0.1) inset":"none",width:o?"40%":"100%",y:20*!!o},transition:{type:"spring",stiffness:200,damping:50},style:{minWidth:"800px"},className:(0,s.cn)("relative z-[60] mx-auto hidden w-full max-w-7xl flex-row items-center justify-between self-start rounded-full bg-transparent px-4 py-2 lg:flex dark:bg-transparent",o&&"bg-white/80 dark:bg-neutral-950/80",a),children:e})},u=t=>{let{items:e,className:a}=t,[o,c]=(0,r.useState)(null),l=(0,p.useRouter)();return(0,n.jsx)(i.P.div,{onMouseLeave:()=>c(null),className:(0,s.cn)("absolute inset-0 hidden flex-1 flex-row items-center justify-center space-x-2 text-sm font-medium text-zinc-600 transition duration-200 hover:text-zinc-800 lg:flex lg:space-x-2",a),children:e.map((t,e)=>(0,n.jsxs)("div",{onMouseEnter:()=>c(e),onClick:()=>l.push(t.link),className:"relative px-4 py-2 text-neutral-600 dark:text-neutral-300 cursor-pointer",children:[o===e&&(0,n.jsx)(i.P.div,{layoutId:"hovered",className:"absolute inset-0 h-full w-full rounded-full bg-gray-100 dark:bg-neutral-800"}),(0,n.jsx)("span",{className:"relative z-20 font-bold text-md dark:text-white",children:t.name})]},"link-".concat(e)))})},m=()=>(0,n.jsxs)("a",{href:"#",className:"relative z-20 mr-4 flex items-center space-x-2 px-2 py-1 text-sm font-normal text-black",children:[(0,n.jsx)(l.default,{src:"https://assets.aceternity.com/logo-dark.png",alt:"logo",width:30,height:30}),(0,n.jsx)("span",{className:"font-medium text-black dark:text-white",children:"Project Manager"})]}),x=t=>{let{href:e,as:a="a",children:o,className:c,variant:i="primary",...r}=t;return(0,n.jsx)(a,{href:e||void 0,className:(0,s.cn)("px-4 py-2 rounded-md bg-white button bg-white text-black text-sm font-bold relative cursor-pointer hover:-translate-y-0.5 transition duration-200 inline-block text-center",{primary:"shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset]",secondary:"bg-transparent shadow-none dark:text-white",dark:"bg-black text-white shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset]",gradient:"bg-gradient-to-b from-blue-500 to-blue-700 text-white shadow-[0px_2px_0px_0px_rgba(255,255,255,0.3)_inset]"}[i],c),...r,children:o})};var _=a(2923),y=a(2144),f=a(6272),j=a(7005);let g=()=>(0,n.jsx)("div",{className:"w-[98vw] h-[94dvh] absolute bg-dark/60 insert flex items-center justify-center",children:(0,n.jsxs)("div",{className:"terminal-loader",children:[(0,n.jsxs)("div",{className:"terminal-header",children:[(0,n.jsx)("div",{className:"terminal-title",children:"Status"}),(0,n.jsxs)("div",{className:"terminal-controls",children:[(0,n.jsx)("div",{className:"control close"}),(0,n.jsx)("div",{className:"control minimize"}),(0,n.jsx)("div",{className:"control maximize"})]})]}),(0,n.jsx)("div",{className:"text",children:"Loading..."})]})});var b=a(6821),v=a(5261);let w=t=>{let{children:e}=t,{isAdmin:a,isManager:s}=(0,r.use)(j.B),o=[{name:"Dashboard",link:"/"},{name:"Chat",link:"/chat"},{name:"Contact",link:"/"}];a||s||o.splice(1,0,{name:"Task",link:"/task"});let c=(0,p.useRouter)(),[i,l]=(0,r.useState)(!1),{isPending:w}=(0,r.use)(f._),{employee:k,setEmployee:T,setAdminEmployee:P}=(0,y.n)(),{setTask:N,setStatusTask:E}=(0,b.O)(),{setProject:S,setEmployeeProject:C}=(0,v.I)(),{setIsLog:z}=(0,r.use)(j.B),A=(0,p.usePathname)(),O=window.innerWidth;return(0,r.useEffect)(()=>{O>=1424?l(!1):l(!0)},[]),w?(0,n.jsx)(g,{}):(0,n.jsxs)("div",{className:"relative w-full",children:["/auth"!==A&&(0,n.jsxs)(h,{children:[O>=1424&&(0,n.jsxs)(d,{children:[(0,n.jsx)(m,{}),(0,n.jsx)(u,{items:o}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)(x,{variant:"secondary",children:["Hello ",null==k?void 0:k.first_name," ",null==k?void 0:k.last_name]}),(0,n.jsx)(x,{onClick:()=>{T(null),P(null),N(null),E(null),S(null),C(null),z(!1),(0,_.TF)("pm-t"),c.push("/auth")},variant:"primary",children:"Sign Out"})]})]}),i&&(0,n.jsx)("div",{className:"mobile fixed inset-0 w-full h-screen z-50 bg-black flex items-center justify-center",children:"Please open the app in a bigger screen"})]}),(0,n.jsx)("div",{children:e})]})}},9434:(t,e,a)=>{"use strict";a.d(e,{cn:()=>o});var n=a(2596),s=a(9688);function o(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return(0,s.QP)((0,n.$)(e))}}},t=>{var e=e=>t(t.s=e);t.O(0,[189,690,135,30,623,702,441,684,358],()=>e(6570)),_N_E=t.O()}]);